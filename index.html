<html>

<head>
  <meta charset="utf-8">
  <title>Codefellow App</title>

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/style.css">

  <script src="js/lib/jquery-1.9.1.js"></script>
  <script src="js/lib/handlebars-1.0.0.js"></script>
  <script src="js/lib/ember-1.0.0.js"></script>
  <script src="js/lib/ember-data-1.0.0.js"></script>
  <script src="js/app.js"></script>
  <script src="js/router.js"></script>
  <script src="js/mod/user.js"></script>
  <script src="js/ctrl/indexController.js"></script>
  <script src="js/ctrl/userController.js"></script>
  <script src="js/com/editableText.js"></script>

  <script type="text/x-handlebars" data-template-name="components/editable-text">
    {{#if isEditing}}
      <span {{bind-attr class=class}} {{action update on='focusOut'}}>
        {{input value=text}}
      </span>
    {{else}}
      <span {{bind-attr class=class}} {{action edit on='click'}}>
        {{text}}
      </span>
    {{/if}}
  </script>
</head>

<body>
  <script type="text/x-handlebars" data-template-name="index">

  <h1>Welcome to Codefellows</h1>

  <div id="userbox">

    <form>
      {{input placeholder="First Name" value=firstname}}
      {{input placeholder="Last Name" value=lastname}}
      {{input placeholder="Email Address" value=email}}
      <button {{action addUser}}>Add User</button>
    </form>
    
    <ul id="userlist">
      {{#each itemController=user}} <li class="user">
        <img class="photo" {{bind-attr src=photo}}/>
        {{editable-text class="name" text=firstname update=updateUser}}
        {{editable-text class="name" text=lastname update=updateUser}}
        {{editable-text class="email" text=email update=updateUser}}
        <button class="delete" {{action deleteUser}}>X</button>
      </li> {{/each}}
    </ul>

  </div>

  </script>
</body>

</html>
